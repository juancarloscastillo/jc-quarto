<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2016-04-27">

<title>jc-castillo - Economía moral de la meritocracia y preferencias redistributivas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">jc-castillo</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html#publicationh1" rel="" target="">
 <span class="menu-text">Publicaciones y Presentaciones</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html#docenciah1" rel="" target="">
 <span class="menu-text">Docencia</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html#proyectosh1" rel="" target="">
 <span class="menu-text">Proyectos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html#blogh1" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html#tesish1" rel="" target="">
 <span class="menu-text">Tesis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../links.html" rel="" target="">
 <span class="menu-text">Links</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../contacto.html" rel="" target="">
 <span class="menu-text">Contacto</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
  <ul>
  <li><a href="#resumen" id="toc-resumen" class="nav-link active" data-scroll-target="#resumen">Resumen</a></li>
  <li><a href="#equipo" id="toc-equipo" class="nav-link" data-scroll-target="#equipo">Equipo</a></li>
  <li><a href="#resultados" id="toc-resultados" class="nav-link" data-scroll-target="#resultados">Resultados</a>
  <ul class="collapse">
  <li><a href="#fase-1-teoría-significados-y-prácticas-de-la-meritocracia" id="toc-fase-1-teoría-significados-y-prácticas-de-la-meritocracia" class="nav-link" data-scroll-target="#fase-1-teoría-significados-y-prácticas-de-la-meritocracia">Fase 1: Teoría, significados y prácticas de la meritocracia</a></li>
  <li><a href="#fase-2-contexto-mérito-y-preferencias" id="toc-fase-2-contexto-mérito-y-preferencias" class="nav-link" data-scroll-target="#fase-2-contexto-mérito-y-preferencias">Fase 2: Contexto, mérito y preferencias</a></li>
  <li><a href="#fase-3-medición-e-impactos-de-la-meritocracia-en-chile" id="toc-fase-3-medición-e-impactos-de-la-meritocracia-en-chile" class="nav-link" data-scroll-target="#fase-3-medición-e-impactos-de-la-meritocracia-en-chile">Fase 3: Medición e impactos de la meritocracia en Chile</a></li>
  </ul></li>
  <li><a href="#publicaciones" id="toc-publicaciones" class="nav-link" data-scroll-target="#publicaciones">Publicaciones</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<div class="quarto-about-marquee">
  <div class="about-image-container">
    <img src="featured.jpg" class="about-image " style="width: 100%;">
  </div>
  <div class="about-contents">
    <header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Economía moral de la meritocracia y preferencias redistributivas</h1>
<p class="subtitle lead">FONDECYT Regular 2016-2020</p>
  <div class="quarto-categories">
    <div class="quarto-category">Fondecyt</div>
  </div>
  </div>
<div class="quarto-title-meta">
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 27, 2016</p>
    </div>
  </div>
  </div>
</header> <main class="content" id="quarto-document-content">

<section id="resumen" class="level1">
<h1>Resumen</h1>
<p>El objetivo general de nuestra investigación fue <strong>analizar la relación entre creencias en la meritocracia y preferencias redistributivas desde una perspectiva de economía moral</strong>, atendiendo al contexto institucional en Chile y en perspectiva comparativa internacional. El caso de Chile surge como relevante para este estudio dada su historia de implementación de políticas de mercado en ámbitos sociales, como la introducción de sistemas de capitalización individual en pensiones, los vouchers en educación, y la marcada segmentación en sistemas de salud según capacidad de pago. El argumento central es que aquellos individuos que manifiesten una alta creencia en el mérito, particularmente en esfuerzo y en talento, serán menos proclives a apoyar políticas que reduzcan las diferencias de ingreso (preferencias sobre desigualdad) así como también políticas universalistas que busquen aumentar el bienestar de los ciudadanos (preferencias sobre políticas sociales).</p>
<p>El proyecto se organizó en tres fases consecutivas, cada una asociada a dos objetivos específicos y con diferentes metodologías de investigación. A continuación se describen los resultados organizados en torno a cada fase y objetivos respectivos.</p>
</section>
<section id="equipo" class="level1">
<h1>Equipo</h1>
<p><strong>Investigador principal</strong> : Juan Carlos Castillo (Sociología - Universidad de Chile).</p>
<p><strong>Co-investigadores</strong>:</p>
<ul>
<li>Luis Maldonado - Universidad Católica</li>
<li>Jorge Atria - Universidad Diego Portales</li>
</ul>
<p><strong>Periodo</strong>: 2016-2020 (finalizado)</p>
</section>
<section id="resultados" class="level1">
<h1>Resultados</h1>
<section id="fase-1-teoría-significados-y-prácticas-de-la-meritocracia" class="level2">
<h2 data-anchor-id="fase-1-teoría-significados-y-prácticas-de-la-meritocracia">Fase 1: Teoría, significados y prácticas de la meritocracia</h2>
<ol type="1">
<li>El primer objetivo del proyecto consistió en <strong>explorar e identificar los principales significados atribuidos a la meritocracia</strong> así como también su evaluación de funcionamiento en la sociedad, tomando como fuente el conocimiento experto y los imaginarios de distintos grupos sociales. Para ello se realizaron entrevistas a expertos, entrevistas y focus groups a distintos grupos sociales en tres regiones del país, y entrevistas a elite económica.</li>
</ol>
<ul>
<li><p>En las entrevistas a expertos constatamos una gran heterogeneidad en valoraciones y comprensiones del concepto de meritocracia, así como también dificultades para identificar una agenda académica en esta área. Los resultados de la investigación con expertos se detallan en el artículo <a href="http://dx.doi.org/10.4067/S0718-23762019000200127">“Estudiando la meritocracia en un contexto desigual: perspectivas de académicos chilenos”</a>, publicado en Universum.</p></li>
<li><p>Los focus groups desarrollados en clase media y baja en tres regiones del país permitieron realizar un diagnóstico de sociedad chilena en relación a repertorios culturales sobre la meritocracia. Destaca en estos estudios una dimensión conflictiva de la meritocracia, donde se adhiere en general a la idea de mérito a pesar de que los esfuerzos cotidianos no se ven recompensados ni reconocidos. Esta situación se asocia con contextos de desigualdad donde las mayorías quedan en una situación de indefensión y vulnerabilidad frente a esta concepción que pone acento en los esfuerzos individuales. Parte de estos hallazgos se encuentran en un documento de trabajo en fase de edición final, y fue previamente presentado y discutido con investigadores internacionales en la conferencia de la Asociación Internacional de Sociología (ISA) el año 2018. Además, en paralelo se avanzó en un trabajo vinculado al cambio en las nociones de esfuerzo en relación a la pobreza en el artículo “¿Fruto del esfuerzo? Los cambios en las atribuciones sobre pobreza y riqueza en Chile entre 1996 y 2015”, aceptado en Latin American Research Review, así como también en la medición de las atribuciones de pobreza y riqueza en Chile en el artículo <a href="http://dx.doi.org/10.7764/psykhe.27.2.1152">“Dimensiones Comunes a las Atribuciones de Pobreza y Riqueza”</a>.</p></li>
<li><p>En cuanto a la elite económica, destaca el predominio del talento por sobre el esfuerzo en la noción de meritocracia, lo que constituye un hallazgo novedoso para la sociedad chilena y que marca un contrapunto entre las percepciones y creencias de este grupo respecto del resto de la población. El trabajo empírico sugiere que el predominio del talento es un elemento que permite justificar posiciones de poder en base a características más bien adscritas. Así, aunque percibido como un proyecto accesible para cualquiera que tenga talento, las condiciones de origen social y redes sociales de cada individuo pueden restringir o potenciar el acceso a posiciones de prestigio. Además, se realizaron entrevistas a investigadoras e investigadores que han trabajado empíricamente con elites, para identificar las posibilidades y límites en futuras investigaciones con este grupo. Los resultados con elite económica fueron publicados en <a href="http://dx.doi.org/10.7770/cuhso-v27n2-art1244">“Investigando a la élite económica: Lecciones y desafíos a partir del caso de Chile”</a>, en la revista Cultura, Hombre y Sociedad, en <a href="https://doi.org/10.1080/03906701.2019.1532653">“Legalism and creativity: tax non-compliance in the eyes of the economic elite”</a>, en la revista International Review of Sociology, y en un artículo sobre elites y creencias meritocráticas actualmente en revisión en una revista internacional.</p></li>
</ul>
<ol start="2" type="1">
<li>El segundo objetivo consistió en proponer un modelo conceptual e interpretativo para el estudio de las percepciones y creencias en la meritocracia. En esto avanzamos en la distinción conceptual entre percepciones y preferencias sobre la meritocracia, que aparecen confundidas en la literatura. Para ello se propone que los aspectos normativos y descriptivos que aparecen en la literatura en relación a meritocracia se reflejan a nivel subjetivo en dimensiones de percepciones y preferencias, como aparece en el esquema siguiente:</li>
</ol>
<!---
 ![](merit_model.png)
--->
<p>Este trabajo está publicado en la Revista Internacional de Sociología, titulado <a href="https://doi.org/10.3989/ris.2019.77.1.17.114">“Meritocracia y desigualdad económica: Percepciones, preferencias e implicancias”</a>, y fue parte de los resultados presentados en la conferencia COES 2018. La presentación se tituló <a href="https://juancarloscastillo.github.io/jc-castillo/documents/coes2018/castillo2018meritocracyCOES.html#1">“Meritocracia y redistribución en una sociedad desigual”</a>.</p>
</section>
<section id="fase-2-contexto-mérito-y-preferencias" class="level2">
<h2 data-anchor-id="fase-2-contexto-mérito-y-preferencias">Fase 2: Contexto, mérito y preferencias</h2>
<ol start="3" type="1">
<li>El tercer objetivo fue identificar los principales factores a nivel micro relacionados con meritocracia (percepciones y creencias) y preferencias redistributivas en estudios comparativos internacionales. Este trabajo se desarrolló en parte en una estadía de investigación en Alemania por parte del investigador principal, asesorado por el profesor Steffen Mau. Uno de los supuestos para avanzar en este objetivo era la existencia de indicadores de meritocracia en estudios internacionales, pero siguiendo la conceptualización alcanzada en el objetivo 2, se constataron dificultades para encontrar indicadores que se adecuaran al modelo percepción-preferencia en encuestas internacionales. Parte de estos análisis fueron presentados en ISA 2018: <a href="https://juancarloscastillo.github.io/jc-castillo/documents/ISA2018presentation/castillo2018meritocracyISA.html">“Perceptions and preferences about meritocracy in international comparison”</a>.</li>
</ol>
<p>Se pudo avanzar en este objetivo con el desarrollo de dos tesis de magister en sociología: “Merezco estar aquí: Un estudio multinivel sobre la relación entre meritocracia y educación” (Diego Sandoval, UC), y “Estatus social subjetivo y Percepción de meritocracia: El caso de Chile” (Julio Iturra, UC). Los análisis realizados por Julio Iturra en su tesis fueron presentados en el Congreso Chileno de Sociología 2018. Además, se desarrolló una serie de estudios experimentales para evaluar el papel de la información sobre la desigualdad económica y la pobreza en las creencias meritocráticas. Los resultados se expusieron en un <a href="https://jciturras.github.io/presentations/panel-alas19/ALAS2019.html#1">panel del proyecto en el Congreso internacional ALAS 2019</a>. La ponencia se tituló “Conocimiento sobre desigualdad y pobreza: ¿Influye en la percepción de oportunidades y meritocracia? Un experimento de encuesta”.</p>
<ol start="4" type="1">
<li>El cuarto objetivo buscó analizar la relación entre variables de contexto macro (socioeconómicas y políticas de los países), percepciones y creencias en la meritocracia, y preferencias redistributivas. Se avanzó principalmente en el ámbito de las preferencias, analizando cómo aspectos de desigualdad a nivel macro y micro afectan las preferencias por la redistribución. La principal línea argumentativa aquí tiene que ver con la tesis del autointerés (homo-economicus) y cómo se complementa o supera por preferencias basadas en altruismo y reciprocidad (homo-sociologicus). En este ámbito se desarrollaron una serie de trabajos con foco en Chile, América Latina y también a nivel internacional:</li>
</ol>
<ul>
<li><p>Se abordaron preferencias redistributivas en el ámbito especifico de la salud a nivel internacional en el artículo <a href="https://doi.org/10.1016/j.puhe.2017.09.007">“Income, Egalitarianism, and Attitudes Towards Healthcare Policy: A Study on Public Attitudes in 29 Countries”</a>, en la revista Public Health. También en este mismo ámbito se encuentra el artículo <a href="https://link.springer.com/article/10.1007/s11211-019-00336-6">“Risk Exposure, Humanitarianism and Willingness to Pay for Universal Healthcare: A Cross-National Analysis of 28 Countries”</a>, en Social Justice Research.</p></li>
<li><p>El ámbito de pensiones se desarrolló una encuesta factorial, metodología que permite una evaluación más precisa de juicios distributivos. Los resultados de este estudio fueron publicados en la revista Social Science Quarterly, con el título <a href="https://doi.org/10.1111/ssqu.12539">“Deserving a Just Pension: A factorial survey approach”</a>.</p></li>
<li><p>En relación a preferencias redistributivas se desarrollaron una serie tesis de magister en sociología en la Universidad Católica: “Movilidad social y preferencias por la redistribución: Efectos individuales y contextuales” (Alejandro Plaza), “Desigualdad, desarrollo económico y preferencias redistributivas en América Latina” (Gonzalo Franetovic), “Contexto Político Institucional y Preferencias Redistributivas en América Latina” (Sofía Montedónico), “¿Menos confianza, menos Estado? El impacto de la corrupción sobre las preferencias redistributivas” (Francisca Castro), y “Evaluaciones de justicia distributiva sobre las pensiones de vejez en Chile” (Esteban Muñoz). Los resultados de la tesis de Alejandro Plaza fueron expuestos en el Congreso Chileno de Sociología 2018. La presentación se tituló “Intereses Fluidos: Movilidad Social y Preferencias por la Redistribución en perspectiva comparada”, mientras los resultados de la tesis de G. Franetovic se presentaron en la conferencia COES-LSE Inequalities, en Noviembre 2019 en Londres.</p></li>
</ul>
</section>
<section id="fase-3-medición-e-impactos-de-la-meritocracia-en-chile" class="level2">
<h2 data-anchor-id="fase-3-medición-e-impactos-de-la-meritocracia-en-chile">Fase 3: Medición e impactos de la meritocracia en Chile</h2>
<p>Esta última fase del proyecto se vio afectada por una serie de contingencias. En primer lugar, el cambio del investigador principal de la Universidad Católica a la Universidad de Chile implicó un retraso en el trabajo de campo de la encuesta necesaria para alcanzar estos objetivos, dado que se requirió una nueva evaluación de comités de ética de la nueva institución patrocinante. Además, en la fase final del campo (Octubre 2019) ocurrió el estallido social, con todas las consecuencias no solo para levantar datos, sino también del cierre de universidades. De todas maneras una de las encuestas ya se está analizando y desarrollaremos una adicional dado que contamos con un saldo autorizado por FONDECYT hasta Junio 2020 para estos fines. Con todo, el avance de los objetivos es el siguiente:</p>
<ol start="5" type="1">
<li><p>El quinto objetivo de este proyecto fue proponer y establecer propiedades métricas de un instrumento sobre percepciones y creencias en la meritocracia que sea apropiado para ser utilizado en encuestas de opinión pública. Esto se avanzó en parte en el artículo mencionado sobre <a href="https://doi.org/10.3989/ris.2019.77.1.17.114">“Meritocracia y Desigualdad Económica”</a>. Además, con los datos de nuestra última encuesta panel nos encontramos trabajando en el desarrollo de una escala original de percepciones y preferencias en la meritocracia. El pre-registro de esta investigación así como sus avances se pueden ver en <a href="https://juancarloscastillo.github.io/merit-scale/">el sitio web del proyecto</a>, asociado a un repositorio abierto en Github. El envío del manuscrito a revisión está planificado para Julio de este año.</p></li>
<li><p>El sexto objetivo de “analizar las consecuencias de las creencias y percepciones en la meritocracia en las preferencias redistributivas en Chile, así como la estabilidad de estas asociaciones en el tiempo” se encuentra en su fase final de elaboración. Los datos de nuestra encuesta longitudinal de 3 olas nos permitirán analizar en qué medida estas asociaciones permanecen o no a lo largo del tiempo. Los resultados sobre una fase inicial de la encuesta fueron presentados en la conferencia COES 2018 y en la conferencia de la International Society for Political Psychology en Lisboa 2019, donde la presentación se tituló: <a href="https://juancarloscastillo.github.io/jc-castillo/documents/ISPP2019Lisboa/ispp2019lisboa.html">“Does information about inequality and poverty influence opportunity beliefs?”</a>. El pre-registro del estudio se encuentra publicado en el <a href="https://osf.io/3tewb">Open Science Framework</a>.</p></li>
</ol>
<p>Por último, cabe destacar que un producto adicional del proyecto fue implementar prácticas de ciencia abierta para la trazabilidad, transparencia y accesibilidad de los datos mediante la disponibilidad de la información de la investigación en repositorios abiertos y la elaboración de pre-registros que fueron subidos a la plataforma Open Science Framework. Asimismo, se realizó un aporte a la apertura de las ciencias sociales a través de la presentación de herramientas para la escritura académica abierta en el congreso O3S: Open Scholarship for the Social Sciences 2018.</p>
</section>
</section>
<section id="publicaciones" class="level1">
<h1>Publicaciones</h1>


</section>
</main> 
  </div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>